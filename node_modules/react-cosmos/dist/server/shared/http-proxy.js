"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs2/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setupHttpProxy = setupHttpProxy;

var _keys = _interopRequireDefault(require("@babel/runtime-corejs2/core-js/object/keys"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime-corejs2/helpers/objectWithoutProperties"));

var _httpProxyMiddleware = _interopRequireDefault(require("http-proxy-middleware"));

function setupHttpProxy(app, httpProxy) {
  var context = httpProxy.context,
      options = (0, _objectWithoutProperties2.default)(httpProxy, ["context"]);

  if (typeof context === 'string') {
    app.use(context, (0, _httpProxyMiddleware.default)(options));
  } else {
    (0, _keys.default)(httpProxy).forEach(function (contextKey) {
      var options = httpProxy[contextKey];
      app.use(contextKey, (0, _httpProxyMiddleware.default)(options));
    });
  }
}