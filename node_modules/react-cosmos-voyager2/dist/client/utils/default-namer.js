"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs2/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createDefaultNamer = createDefaultNamer;

var _weakMap = _interopRequireDefault(require("@babel/runtime-corejs2/core-js/weak-map"));

/**
 * Generate unique, consecutive default names
 * E.g. default, default (1), default (2), etc.
 */
function createDefaultNamer(baseName) {
  var countPerId = new _weakMap.default();
  var defaultId = {};

  function getPrevCount(id) {
    var count = countPerId.get(id);
    return typeof count === 'number' ? count : 0;
  }

  return function defaultNamer() {
    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultId;
    var count = getPrevCount(id);
    countPerId.set(id, count + 1);
    return count > 0 ? "".concat(baseName, " ").concat(count) : baseName;
  };
}